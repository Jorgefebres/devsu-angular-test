<div class="add-product">
  <h2>Formulario de Registro</h2>
  <form [formGroup]="productForm" (ngSubmit)="addProduct()">
    <div class="form-group-container">
      <div class="form-group">
        <label for="id">Id:</label>
        <input type="text" id="id" formControlName="id" />
        <div
          *ngIf="
            productForm.get('id')?.hasError('required') &&
            productForm.get('id')?.touched
          "
        >
          Este campo es requerido!
        </div>
        <div
          *ngIf="
            productForm.get('id')?.hasError('minlength') &&
            productForm.get('id')?.touched
          "
        >
          El Id debe tener al menos 3 caracteres.
        </div>
        <div
          *ngIf="
            productForm.get('id')?.hasError('maxlength') &&
            productForm.get('id')?.touched
          "
        >
          El Id no debe tener más de 10 caracteres.
        </div>
      </div>
      <div class="form-group">
        <label for="name">Nombre:</label>
        <input type="text" id="name" formControlName="name" />
        <div
          *ngIf="
            productForm.get('name')?.hasError('required') &&
            productForm.get('name')?.touched
          "
        >
          Este campo es requerido!
        </div>
        <div
          *ngIf="
            productForm.get('name')?.hasError('minlength') &&
            productForm.get('name')?.touched
          "
        >
          El Nombre debe tener al menos 5 caracteres.
        </div>
        <div
          *ngIf="
            productForm.get('name')?.hasError('maxlength') &&
            productForm.get('name')?.touched
          "
        >
          El Nombre no debe tener más de 100 caracteres.
        </div>
      </div>
    </div>
    <div class="form-group-container">
      <div class="form-group">
        <label for="description">Descripción:</label>
        <input id="description" formControlName="description" />
        <div
          *ngIf="
            productForm.get('description')?.hasError('required') &&
            productForm.get('description')?.touched
          "
        >
          Este campo es requerido!
        </div>
        <div
          *ngIf="
            productForm.get('description')?.hasError('minlength') &&
            productForm.get('description')?.touched
          "
        >
          La Descripción debe tener al menos 10 caracteres.
        </div>
        <div
          *ngIf="
            productForm.get('description')?.hasError('maxlength') &&
            productForm.get('description')?.touched
          "
        >
          La Descripción no debe tener más de 200 caracteres.
        </div>
      </div>
      <div class="form-group">
        <label for="logo">Logo:</label>
        <input type="text" id="logo" formControlName="logo" />
        <div
          *ngIf="
            productForm.get('logo')?.hasError('required') &&
            productForm.get('logo')?.touched
          "
        >
          Este campo es requerido!
        </div>
      </div>
    </div>
    <div class="form-group-container">
      <div class="form-group">
        <label for="date_release">Fecha Liberación:</label>
        <input
          type="text"
          id="date_release"
          placeholder="dd/mm/aaaa"
          formControlName="date_release"
        />
        <div
          *ngIf="
            productForm.get('date_release')?.hasError('required') &&
            productForm.get('date_release')?.touched
          "
        >
          Este campo es requerido!
        </div>
        <div
          *ngIf="
            productForm.get('date_release')?.hasError('futureDate') &&
            productForm.get('date_release')?.touched
          "
        >
          La fecha debe ser igual o mayor a la fecha actual.
        </div>
      </div>
      <div class="form-group">
        <label for="date_revision">Fecha Revisión:</label>
        <input
          type="text"
          id="date_revision"
          placeholder="dd/mm/aaaa"
          formControlName="date_revision"
        />
        <div
          *ngIf="
            productForm.get('date_revision')?.hasError('required') &&
            productForm.get('date_revision')?.touched
          "
        >
          Este campo es requerido!
        </div>
      </div>
    </div>
    <div *ngIf="loading; else content">
      <app-skeleton-loader [loadingLines]="1"></app-skeleton-loader>
    </div>
    <ng-template #content>
      <div class="actions">
        <button class="reset-button" (click)="resetForm()">Reiniciar</button>
        <button
          class="send-button"
          type="submit"
          [disabled]="!productForm.valid"
        >
          Enviar
        </button>
      </div>
    </ng-template>
  </form>
</div>
